{
  "mock": {
    "emr_cluster_valid_endpoints": {
      "resource_changes": [
        {
          "address": "aws_vpc_endpoint.emr_eks_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_eks_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy": "{\"Statement\":[{\"Action\":\"emr-containers:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:eks:eu-central-1:123456789012:cluster/testekscluster\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.emr-containers",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_vpc_endpoint.emr_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy": "{\"Action\":\"elasticmapreduce:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:elasticmapreduce:eu-central-1:123456789012:cluster/j-2O661AMF7ZMNL\",\"Sid\":\"Allow Permissions\"}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.elasticmapreduce",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emr_cluster.cluster",
          "mode": "managed",
          "type": "aws_emr_cluster",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "additional_info": null,
              "applications": [
                "Spark"
              ],
              "auto_termination_policy": [],
              "autoscaling_role": null,
              "bootstrap_action": [
                {
                  "args": null,
                  "name": "run-if",
                  "path": "s3://elasticmapreduce/bootstrap-actions/run-if"
                }
              ],
              "configurations": null,
              "configurations_json": null,
              "core_instance_group": [
                {
                  "autoscaling_policy": null,
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "custom_ami_id": null,
              "ebs_root_volume_size": null,
              "ec2_attributes": [
                {
                  "additional_master_security_groups": null,
                  "additional_slave_security_groups": null,
                  "key_name": null
                }
              ],
              "kerberos_attributes": [],
              "list_steps_states": null,
              "log_encryption_kms_key_id": null,
              "log_uri": null,
              "master_instance_group": [
                {
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "name": "emr-test-arn",
              "release_label": "emr-4.6.0",
              "security_configuration": null,
              "step_concurrency_level": 1,
              "tags": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "tags_all": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "visible_to_all_users": true
            },
            "after_unknown": {
              "applications": [
                false
              ],
              "arn": true,
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "cluster_state": true,
              "core_instance_fleet": true,
              "core_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "ec2_attributes": [
                {
                  "emr_managed_master_security_group": true,
                  "emr_managed_slave_security_group": true,
                  "instance_profile": true,
                  "service_access_security_group": true,
                  "subnet_id": true,
                  "subnet_ids": true
                }
              ],
              "id": true,
              "keep_job_flow_alive_when_no_steps": true,
              "kerberos_attributes": [],
              "master_instance_fleet": true,
              "master_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "master_public_dns": true,
              "scale_down_behavior": true,
              "service_role": true,
              "step": true,
              "tags": {},
              "tags_all": {},
              "termination_protection": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "applications": [
                false
              ],
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "core_instance_fleet": [],
              "core_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "ec2_attributes": [
                {
                  "subnet_ids": []
                }
              ],
              "kerberos_attributes": [],
              "master_instance_fleet": [],
              "master_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "step": [],
              "tags": {},
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emrcontainers_virtual_cluster.emr_eks_cluster",
          "mode": "managed",
          "type": "aws_emrcontainers_virtual_cluster",
          "name": "emr_eks_cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "container_provider": [
                {
                  "id": "eksclusterexample",
                  "info": [
                    {
                      "eks_info": [
                        {
                          "namespace": "default"
                        }
                      ]
                    }
                  ],
                  "type": "EKS"
                }
              ],
              "name": "emr_eks_cluster",
              "tags": null,
              "timeouts": null
            },
            "after_unknown": {
              "arn": true,
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "id": true,
              "tags_all": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "tags_all": {}
            }
          }
        }
      ]
    },
    "no_cluster_valid_endpoints": {
      "resource_changes": [
        {
          "address": "aws_vpc_endpoint.emr_eks_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_eks_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy":  "{\"Statement\":[{\"Action\":\"emr-containers:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:eks:eu-central-1:123456789012:cluster/testekscluster\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.emr-containers",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_vpc_endpoint.emr_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy":  "{\"Statement\":[{\"Action\":\"elasticmapreduce:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:elasticmapreduce:eu-central-1:123456789012:cluster/j-2O661AMF7ZMNL\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.elasticmapreduce",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        }
      ]
    },
    "emr_cluster_with_ec2_emr_endpoint": {
      "resource_changes": [
        {
          "address": "aws_vpc_endpoint.emr_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy":  "{\"Statement\":[{\"Action\":\"elasticmapreduce:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:elasticmapreduce:eu-central-1:123456789012:cluster/j-2O661AMF7ZMNL\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.elasticmapreduce",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emr_cluster.cluster",
          "mode": "managed",
          "type": "aws_emr_cluster",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "additional_info": null,
              "applications": [
                "Spark"
              ],
              "auto_termination_policy": [],
              "autoscaling_role": null,
              "bootstrap_action": [
                {
                  "args": null,
                  "name": "run-if",
                  "path": "s3://elasticmapreduce/bootstrap-actions/run-if"
                }
              ],
              "configurations": null,
              "configurations_json": null,
              "core_instance_group": [
                {
                  "autoscaling_policy": null,
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "custom_ami_id": null,
              "ebs_root_volume_size": null,
              "ec2_attributes": [
                {
                  "additional_master_security_groups": null,
                  "additional_slave_security_groups": null,
                  "key_name": null
                }
              ],
              "kerberos_attributes": [],
              "list_steps_states": null,
              "log_encryption_kms_key_id": null,
              "log_uri": null,
              "master_instance_group": [
                {
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "name": "emr-test-arn",
              "release_label": "emr-4.6.0",
              "security_configuration": null,
              "step_concurrency_level": 1,
              "tags": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "tags_all": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "visible_to_all_users": true
            },
            "after_unknown": {
              "applications": [
                false
              ],
              "arn": true,
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "cluster_state": true,
              "core_instance_fleet": true,
              "core_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "ec2_attributes": [
                {
                  "emr_managed_master_security_group": true,
                  "emr_managed_slave_security_group": true,
                  "instance_profile": true,
                  "service_access_security_group": true,
                  "subnet_id": true,
                  "subnet_ids": true
                }
              ],
              "id": true,
              "keep_job_flow_alive_when_no_steps": true,
              "kerberos_attributes": [],
              "master_instance_fleet": true,
              "master_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "master_public_dns": true,
              "scale_down_behavior": true,
              "service_role": true,
              "step": true,
              "tags": {},
              "tags_all": {},
              "termination_protection": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "applications": [
                false
              ],
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "core_instance_fleet": [],
              "core_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "ec2_attributes": [
                {
                  "subnet_ids": []
                }
              ],
              "kerberos_attributes": [],
              "master_instance_fleet": [],
              "master_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "step": [],
              "tags": {},
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emrcontainers_virtual_cluster.emr_eks_cluster",
          "mode": "managed",
          "type": "aws_emrcontainers_virtual_cluster",
          "name": "emr_eks_cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "container_provider": [
                {
                  "id": "eksclusterexample",
                  "info": [
                    {
                      "eks_info": [
                        {
                          "namespace": "default"
                        }
                      ]
                    }
                  ],
                  "type": "EKS"
                }
              ],
              "name": "emr_eks_cluster",
              "tags": null,
              "timeouts": null
            },
            "after_unknown": {
              "arn": true,
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "id": true,
              "tags_all": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "tags_all": {}
            }
          }
        }
      ]
    },
    "emr_cluster_with_eks_endpoint": {
      "resource_changes": [
        {
          "address": "aws_emrcontainers_virtual_cluster.emr_eks_cluster",
          "mode": "managed",
          "type": "aws_emrcontainers_virtual_cluster",
          "name": "emr_eks_cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "container_provider": [
                {
                  "id": "eksclusterexample",
                  "info": [
                    {
                      "eks_info": [
                        {
                          "namespace": "default"
                        }
                      ]
                    }
                  ],
                  "type": "EKS"
                }
              ],
              "name": "emr_eks_cluster",
              "tags": null,
              "timeouts": null
            },
            "after_unknown": {
              "arn": true,
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "id": true,
              "tags_all": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_vpc_endpoint.emr_eks_vpc_endpoint_with_valid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_eks_vpc_endpoint_with_valid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy":  "{\"Statement\":[{\"Action\":\"emr-containers:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"arn:aws:eks:eu-central-1:123456789012:cluster/testekscluster\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.emr-containers",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emr_cluster.cluster",
          "mode": "managed",
          "type": "aws_emr_cluster",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "additional_info": null,
              "applications": [
                "Spark"
              ],
              "auto_termination_policy": [],
              "autoscaling_role": null,
              "bootstrap_action": [
                {
                  "args": null,
                  "name": "run-if",
                  "path": "s3://elasticmapreduce/bootstrap-actions/run-if"
                }
              ],
              "configurations": null,
              "configurations_json": null,
              "core_instance_group": [
                {
                  "autoscaling_policy": null,
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "custom_ami_id": null,
              "ebs_root_volume_size": null,
              "ec2_attributes": [
                {
                  "additional_master_security_groups": null,
                  "additional_slave_security_groups": null,
                  "key_name": null
                }
              ],
              "kerberos_attributes": [],
              "list_steps_states": null,
              "log_encryption_kms_key_id": null,
              "log_uri": null,
              "master_instance_group": [
                {
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "name": "emr-test-arn",
              "release_label": "emr-4.6.0",
              "security_configuration": null,
              "step_concurrency_level": 1,
              "tags": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "tags_all": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "visible_to_all_users": true
            },
            "after_unknown": {
              "applications": [
                false
              ],
              "arn": true,
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "cluster_state": true,
              "core_instance_fleet": true,
              "core_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "ec2_attributes": [
                {
                  "emr_managed_master_security_group": true,
                  "emr_managed_slave_security_group": true,
                  "instance_profile": true,
                  "service_access_security_group": true,
                  "subnet_id": true,
                  "subnet_ids": true
                }
              ],
              "id": true,
              "keep_job_flow_alive_when_no_steps": true,
              "kerberos_attributes": [],
              "master_instance_fleet": true,
              "master_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "master_public_dns": true,
              "scale_down_behavior": true,
              "service_role": true,
              "step": true,
              "tags": {},
              "tags_all": {},
              "termination_protection": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "applications": [
                false
              ],
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "core_instance_fleet": [],
              "core_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "ec2_attributes": [
                {
                  "subnet_ids": []
                }
              ],
              "kerberos_attributes": [],
              "master_instance_fleet": [],
              "master_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "step": [],
              "tags": {},
              "tags_all": {}
            }
          }
        }
      ]
    },
    "emr_clusters_no_endpoints": {
      "resource_changes": [
        {
          "address": "aws_emrcontainers_virtual_cluster.emr_eks_cluster",
          "mode": "managed",
          "type": "aws_emrcontainers_virtual_cluster",
          "name": "emr_eks_cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "container_provider": [
                {
                  "id": "eksclusterexample",
                  "info": [
                    {
                      "eks_info": [
                        {
                          "namespace": "default"
                        }
                      ]
                    }
                  ],
                  "type": "EKS"
                }
              ],
              "name": "emr_eks_cluster",
              "tags": null,
              "timeouts": null
            },
            "after_unknown": {
              "arn": true,
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "id": true,
              "tags_all": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "container_provider": [
                {
                  "info": [
                    {
                      "eks_info": [
                        {}
                      ]
                    }
                  ]
                }
              ],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_emr_cluster.cluster",
          "mode": "managed",
          "type": "aws_emr_cluster",
          "name": "cluster",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "additional_info": null,
              "applications": [
                "Spark"
              ],
              "auto_termination_policy": [],
              "autoscaling_role": null,
              "bootstrap_action": [
                {
                  "args": null,
                  "name": "run-if",
                  "path": "s3://elasticmapreduce/bootstrap-actions/run-if"
                }
              ],
              "configurations": null,
              "configurations_json": null,
              "core_instance_group": [
                {
                  "autoscaling_policy": null,
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "custom_ami_id": null,
              "ebs_root_volume_size": null,
              "ec2_attributes": [
                {
                  "additional_master_security_groups": null,
                  "additional_slave_security_groups": null,
                  "key_name": null
                }
              ],
              "kerberos_attributes": [],
              "list_steps_states": null,
              "log_encryption_kms_key_id": null,
              "log_uri": null,
              "master_instance_group": [
                {
                  "bid_price": null,
                  "instance_count": 1,
                  "instance_type": "m5.xlarge",
                  "name": null
                }
              ],
              "name": "emr-test-arn",
              "release_label": "emr-4.6.0",
              "security_configuration": null,
              "step_concurrency_level": 1,
              "tags": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "tags_all": {
                "dns_zone": "env_zone",
                "env": "env",
                "name": "name-env",
                "role": "rolename"
              },
              "visible_to_all_users": true
            },
            "after_unknown": {
              "applications": [
                false
              ],
              "arn": true,
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "cluster_state": true,
              "core_instance_fleet": true,
              "core_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "ec2_attributes": [
                {
                  "emr_managed_master_security_group": true,
                  "emr_managed_slave_security_group": true,
                  "instance_profile": true,
                  "service_access_security_group": true,
                  "subnet_id": true,
                  "subnet_ids": true
                }
              ],
              "id": true,
              "keep_job_flow_alive_when_no_steps": true,
              "kerberos_attributes": [],
              "master_instance_fleet": true,
              "master_instance_group": [
                {
                  "ebs_config": true,
                  "id": true
                }
              ],
              "master_public_dns": true,
              "scale_down_behavior": true,
              "service_role": true,
              "step": true,
              "tags": {},
              "tags_all": {},
              "termination_protection": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "applications": [
                false
              ],
              "auto_termination_policy": [],
              "bootstrap_action": [
                {}
              ],
              "core_instance_fleet": [],
              "core_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "ec2_attributes": [
                {
                  "subnet_ids": []
                }
              ],
              "kerberos_attributes": [],
              "master_instance_fleet": [],
              "master_instance_group": [
                {
                  "ebs_config": []
                }
              ],
              "step": [],
              "tags": {},
              "tags_all": {}
            }
          }
        }
      ]
    },
    "no_cluster_invalid_endpoint_policy": {
      "resource_changes": [
        {
          "address": "aws_vpc_endpoint.emr_eks_vpc_endpoint_with_invalid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_eks_vpc_endpoint_with_invalid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy": "{\"Statement\":[{\"Action\":\"emr-containers:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"*\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.emr-containers",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_vpc_endpoint.emr_vpc_endpoint_with_invalid_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_vpc_endpoint_with_invalid_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "policy":  "{\"Statement\":[{\"Action\":\"elasticmapreduce:*\",\"Effect\":\"Allow\",\"Principal\":{\"AWS\":\"111122223333\"},\"Resource\":\"*\",\"Sid\":\"Allow Permissions\"}]}",
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.elasticmapreduce",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        }
      ]
    },
    "no_cluster_missing_endpoint_policy": {
      "resource_changes": [
        {
          "address": "aws_vpc_endpoint.emr_eks_vpc_endpoint_with_missing_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_eks_vpc_endpoint_with_missing_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.emr-containers",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_vpc_endpoint.emr_vpc_endpoint_with_missing_policy",
          "mode": "managed",
          "type": "aws_vpc_endpoint",
          "name": "emr_vpc_endpoint_with_missing_policy",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "auto_accept": null,
              "private_dns_enabled": true,
              "service_name": "com.amazonaws.eu-central-1.elasticmapreduce",
              "tags": null,
              "timeouts": null,
              "vpc_endpoint_type": "Interface"
            },
            "after_unknown": {
              "arn": true,
              "cidr_blocks": true,
              "dns_entry": true,
              "id": true,
              "network_interface_ids": true,
              "owner_id": true,
              "prefix_list_id": true,
              "requester_managed": true,
              "route_table_ids": true,
              "security_group_ids": true,
              "state": true,
              "subnet_ids": true,
              "tags_all": true,
              "vpc_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "cidr_blocks": [],
              "dns_entry": [],
              "network_interface_ids": [],
              "route_table_ids": [],
              "security_group_ids": [],
              "subnet_ids": [],
              "tags_all": {}
            }
          }
        }
      ]
    }
  }
}