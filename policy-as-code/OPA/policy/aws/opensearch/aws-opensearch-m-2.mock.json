{
  "mock": {
    "valid": {
      "resource_changes": [
        {
          "address": "aws_opensearch_domain.example",
          "mode": "managed",
          "type": "aws_opensearch_domain",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "cluster_config": [
                {
                  "dedicated_master_count": null,
                  "dedicated_master_enabled": false,
                  "dedicated_master_type": null,
                  "instance_count": 1,
                  "instance_type": "m3.medium.search",
                  "warm_count": null,
                  "warm_enabled": null,
                  "warm_type": null,
                  "zone_awareness_config": [],
                  "zone_awareness_enabled": null
                }
              ],
              "cognito_options": [],
              "domain_name": "exampledomain1234",
              "engine_version": "OpenSearch_1.0",
              "log_publishing_options": [],
              "snapshot_options": [],
              "tags": {
                "Domain": "TestDomain"
              },
              "tags_all": {
                "Domain": "TestDomain"
              },
              "timeouts": null,
              "vpc_options": [
                {
                  "security_group_ids": null,
                  "subnet_ids": [
                    "subnet-0cb7fabdda5d2f76d"
                  ]
                }
              ]
            },
            "after_unknown": {
              "access_policies": true,
              "advanced_options": true,
              "advanced_security_options": true,
              "arn": true,
              "auto_tune_options": true,
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": true,
              "domain_id": true,
              "ebs_options": true,
              "encrypt_at_rest": true,
              "endpoint": true,
              "id": true,
              "kibana_endpoint": true,
              "log_publishing_options": [],
              "node_to_node_encryption": true,
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": true,
                  "subnet_ids": [
                    false
                  ],
                  "vpc_id": true
                }
              ]
            },
            "before_sensitive": false,
            "after_sensitive": {
              "advanced_options": {},
              "advanced_security_options": [],
              "auto_tune_options": [],
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": [],
              "ebs_options": [],
              "encrypt_at_rest": [],
              "log_publishing_options": [],
              "node_to_node_encryption": [],
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": [],
                  "subnet_ids": [
                    false
                  ]
                }
              ]
            }
          }
        }
      ]
    },
    "invalid_empty_subnet_ids": {
      "resource_changes": [
        {
          "address": "aws_opensearch_domain.example",
          "mode": "managed",
          "type": "aws_opensearch_domain",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "cluster_config": [
                {
                  "dedicated_master_count": null,
                  "dedicated_master_enabled": false,
                  "dedicated_master_type": null,
                  "instance_count": 1,
                  "instance_type": "m3.medium.search",
                  "warm_count": null,
                  "warm_enabled": null,
                  "warm_type": null,
                  "zone_awareness_config": [],
                  "zone_awareness_enabled": null
                }
              ],
              "cognito_options": [],
              "domain_name": "exampledomain1234",
              "engine_version": "OpenSearch_1.0",
              "log_publishing_options": [],
              "snapshot_options": [],
              "tags": {
                "Domain": "TestDomain"
              },
              "tags_all": {
                "Domain": "TestDomain"
              },
              "timeouts": null,
              "vpc_options": [
                {
                  "security_group_ids": null,
                  "subnet_ids": null
                }
              ]
            },
            "after_unknown": {
              "access_policies": true,
              "advanced_options": true,
              "advanced_security_options": true,
              "arn": true,
              "auto_tune_options": true,
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": true,
              "domain_id": true,
              "ebs_options": true,
              "encrypt_at_rest": true,
              "endpoint": true,
              "id": true,
              "kibana_endpoint": true,
              "log_publishing_options": [],
              "node_to_node_encryption": true,
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": true,
                  "vpc_id": true
                }
              ]
            },
            "before_sensitive": false,
            "after_sensitive": {
              "advanced_options": {},
              "advanced_security_options": [],
              "auto_tune_options": [],
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": [],
              "ebs_options": [],
              "encrypt_at_rest": [],
              "log_publishing_options": [],
              "node_to_node_encryption": [],
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": []
                }
              ]
            }
          }
        }
      ],
      "configuration": {}
    },
    "invalid_undefined_subnet_ids": {
      "resource_changes": [
        {
          "address": "aws_opensearch_domain.example",
          "mode": "managed",
          "type": "aws_opensearch_domain",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "cluster_config": [
                {
                  "dedicated_master_count": null,
                  "dedicated_master_enabled": false,
                  "dedicated_master_type": null,
                  "instance_count": 1,
                  "instance_type": "m3.medium.search",
                  "warm_count": null,
                  "warm_enabled": null,
                  "warm_type": null,
                  "zone_awareness_config": [],
                  "zone_awareness_enabled": null
                }
              ],
              "cognito_options": [],
              "domain_name": "exampledomain1234",
              "engine_version": "OpenSearch_1.0",
              "log_publishing_options": [],
              "snapshot_options": [],
              "tags": {
                "Domain": "TestDomain"
              },
              "tags_all": {
                "Domain": "TestDomain"
              },
              "timeouts": null,
              "vpc_options": [
                {
                  "security_group_ids": null,
                  "subnet_ids": null
                }
              ]
            },
            "after_unknown": {
              "access_policies": true,
              "advanced_options": true,
              "advanced_security_options": true,
              "arn": true,
              "auto_tune_options": true,
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": true,
              "domain_id": true,
              "ebs_options": true,
              "encrypt_at_rest": true,
              "endpoint": true,
              "id": true,
              "kibana_endpoint": true,
              "log_publishing_options": [],
              "node_to_node_encryption": true,
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": true,
                  "vpc_id": true
                }
              ]
            },
            "before_sensitive": false,
            "after_sensitive": {
              "advanced_options": {},
              "advanced_security_options": [],
              "auto_tune_options": [],
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": [],
              "ebs_options": [],
              "encrypt_at_rest": [],
              "log_publishing_options": [],
              "node_to_node_encryption": [],
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": []
                }
              ]
            }
          }
        }
      ],
      "configuration": {}
    },
    "invalid_undefined_vpc_options": {
      "resource_changes": [
        {
          "address": "aws_opensearch_domain.example",
          "mode": "managed",
          "type": "aws_opensearch_domain",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "cluster_config": [
                {
                  "dedicated_master_count": null,
                  "dedicated_master_enabled": false,
                  "dedicated_master_type": null,
                  "instance_count": 1,
                  "instance_type": "m3.medium.search",
                  "warm_count": null,
                  "warm_enabled": null,
                  "warm_type": null,
                  "zone_awareness_config": [],
                  "zone_awareness_enabled": null
                }
              ],
              "cognito_options": [],
              "domain_name": "exampledomain1234",
              "engine_version": "OpenSearch_1.0",
              "log_publishing_options": [],
              "snapshot_options": [],
              "tags": {
                "Domain": "TestDomain"
              },
              "tags_all": {
                "Domain": "TestDomain"
              },
              "timeouts": null,
              "vpc_options": []
            },
            "after_unknown": {
              "access_policies": true,
              "advanced_options": true,
              "advanced_security_options": true,
              "arn": true,
              "auto_tune_options": true,
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": true,
              "domain_id": true,
              "ebs_options": true,
              "encrypt_at_rest": true,
              "endpoint": true,
              "id": true,
              "kibana_endpoint": true,
              "log_publishing_options": [],
              "node_to_node_encryption": true,
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": []
            },
            "before_sensitive": false,
            "after_sensitive": {
              "advanced_options": {},
              "advanced_security_options": [],
              "auto_tune_options": [],
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": [],
              "ebs_options": [],
              "encrypt_at_rest": [],
              "log_publishing_options": [],
              "node_to_node_encryption": [],
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": []
            }
          }
        }
      ],
      "configuration": {}
    },
    "valid_subnet_reference": {
      "resource_changes": [
        {
          "address": "aws_iam_service_linked_role.example",
          "mode": "managed",
          "type": "aws_iam_service_linked_role",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "aws_service_name": "opensearchservice.amazonaws.com",
              "custom_suffix": null,
              "description": null,
              "tags": null
            },
            "after_unknown": {
              "arn": true,
              "create_date": true,
              "id": true,
              "name": true,
              "path": true,
              "tags_all": true,
              "unique_id": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_opensearch_domain.exampl3",
          "mode": "managed",
          "type": "aws_opensearch_domain",
          "name": "exampl3",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "access_policies": "{\"Statement\":[{\"Action\":\"es:*\",\"Effect\":\"Allow\",\"Principal\":\"*\",\"Resource\":\"arn:aws:es:us-east-1:111111111111:domain/tf-test/*\"}],\"Version\":\"2012-10-17\"}",
              "advanced_options": {
                "rest.action.multi.allow_explicit_index": "true"
              },
              "cluster_config": [
                {
                  "dedicated_master_count": null,
                  "dedicated_master_enabled": false,
                  "dedicated_master_type": null,
                  "instance_count": 1,
                  "instance_type": "m4.large.search",
                  "warm_count": null,
                  "warm_enabled": null,
                  "warm_type": null,
                  "zone_awareness_config": [],
                  "zone_awareness_enabled": true
                }
              ],
              "cognito_options": [],
              "domain_name": "tf-test",
              "engine_version": "OpenSearch_1.0",
              "log_publishing_options": [],
              "snapshot_options": [],
              "tags": {
                "Domain": "TestDomain"
              },
              "tags_all": {
                "Domain": "TestDomain"
              },
              "timeouts": null,
              "vpc_options": [
                {}
              ]
            },
            "after_unknown": {
              "advanced_options": {},
              "advanced_security_options": true,
              "arn": true,
              "auto_tune_options": true,
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": true,
              "domain_id": true,
              "ebs_options": true,
              "encrypt_at_rest": true,
              "endpoint": true,
              "id": true,
              "kibana_endpoint": true,
              "log_publishing_options": [],
              "node_to_node_encryption": true,
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": true,
                  "security_group_ids": true,
                  "subnet_ids": true,
                  "vpc_id": true
                }
              ]
            },
            "before_sensitive": false,
            "after_sensitive": {
              "advanced_options": {},
              "advanced_security_options": [],
              "auto_tune_options": [],
              "cluster_config": [
                {
                  "zone_awareness_config": []
                }
              ],
              "cognito_options": [],
              "domain_endpoint_options": [],
              "ebs_options": [],
              "encrypt_at_rest": [],
              "log_publishing_options": [],
              "node_to_node_encryption": [],
              "snapshot_options": [],
              "tags": {},
              "tags_all": {},
              "vpc_options": [
                {
                  "availability_zones": [],
                  "security_group_ids": [],
                  "subnet_ids": []
                }
              ]
            }
          }
        },
        {
          "address": "aws_security_group.example",
          "mode": "managed",
          "type": "aws_security_group",
          "name": "example",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "description": "Managed by Terraform",
              "ingress": [
                {
                  "cidr_blocks": [
                    "10.0.0.0/20"
                  ],
                  "description": "",
                  "from_port": 443,
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "protocol": "tcp",
                  "security_groups": [],
                  "self": false,
                  "to_port": 443
                }
              ],
              "name": "test-opensearch-tf-test",
              "revoke_rules_on_delete": false,
              "tags": null,
              "timeouts": null,
              "vpc_id": "vpc-11111111111111111"
            },
            "after_unknown": {
              "arn": true,
              "egress": true,
              "id": true,
              "ingress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "name_prefix": true,
              "owner_id": true,
              "tags_all": true
            },
            "before_sensitive": false,
            "after_sensitive": {
              "egress": [],
              "ingress": [
                {
                  "cidr_blocks": [
                    false
                  ],
                  "ipv6_cidr_blocks": [],
                  "prefix_list_ids": [],
                  "security_groups": []
                }
              ],
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_subnet.main1",
          "mode": "managed",
          "type": "aws_subnet",
          "name": "main1",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "assign_ipv6_address_on_creation": false,
              "cidr_block": "10.0.16.0/24",
              "customer_owned_ipv4_pool": null,
              "enable_dns64": false,
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false,
              "ipv6_cidr_block": null,
              "ipv6_native": false,
              "map_customer_owned_ip_on_launch": null,
              "map_public_ip_on_launch": false,
              "outpost_arn": null,
              "tags": {
                "Name": "Main"
              },
              "tags_all": {
                "Name": "Main"
              },
              "timeouts": null,
              "vpc_id": "vpc-11111111111111111"
            },
            "after_unknown": {
              "arn": true,
              "availability_zone": true,
              "availability_zone_id": true,
              "id": true,
              "ipv6_cidr_block_association_id": true,
              "owner_id": true,
              "private_dns_hostname_type_on_launch": true,
              "tags": {},
              "tags_all": {}
            },
            "before_sensitive": false,
            "after_sensitive": {
              "tags": {},
              "tags_all": {}
            }
          }
        },
        {
          "address": "aws_subnet.main2",
          "mode": "managed",
          "type": "aws_subnet",
          "name": "main2",
          "provider_name": "registry.terraform.io/hashicorp/aws",
          "change": {
            "actions": [
              "create"
            ],
            "before": null,
            "after": {
              "assign_ipv6_address_on_creation": false,
              "cidr_block": "10.0.15.0/24",
              "customer_owned_ipv4_pool": null,
              "enable_dns64": false,
              "enable_resource_name_dns_a_record_on_launch": false,
              "enable_resource_name_dns_aaaa_record_on_launch": false,
              "ipv6_cidr_block": null,
              "ipv6_native": false,
              "map_customer_owned_ip_on_launch": null,
              "map_public_ip_on_launch": false,
              "outpost_arn": null,
              "tags": {
                "Name": "Main"
              },
              "tags_all": {
                "Name": "Main"
              },
              "timeouts": null,
              "vpc_id": "vpc-1111111111111"
            },
            "after_unknown": {
              "arn": true,
              "availability_zone": true,
              "availability_zone_id": true,
              "id": true,
              "ipv6_cidr_block_association_id": true,
              "owner_id": true,
              "private_dns_hostname_type_on_launch": true,
              "tags": {},
              "tags_all": {}
            },
            "before_sensitive": false,
            "after_sensitive": {
              "tags": {},
              "tags_all": {}
            }
          }
        }
      ],
      "prior_state": {
        "format_version": "1.0",
        "terraform_version": "1.1.8",
        "values": {
          "root_module": {
            "resources": [
              {
                "address": "data.aws_caller_identity.current",
                "mode": "data",
                "type": "aws_caller_identity",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "account_id": "11111111111111",
                  "arn": "arn:aws:iam::11111111111111:user/janardhanm",
                  "id": "111111111111111",
                  "user_id": "AIDAJXWY71111111111"
                },
                "sensitive_values": {}
              },
              {
                "address": "data.aws_region.current",
                "mode": "data",
                "type": "aws_region",
                "name": "current",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "description": "US East (N. Virginia)",
                  "endpoint": "ec2.us-east-1.amazonaws.com",
                  "id": "us-east-1",
                  "name": "us-east-1"
                },
                "sensitive_values": {}
              },
              {
                "address": "data.aws_vpc.example",
                "mode": "data",
                "type": "aws_vpc",
                "name": "example",
                "provider_name": "registry.terraform.io/hashicorp/aws",
                "schema_version": 0,
                "values": {
                  "arn": "arn:aws:ec2:us-east-1:11111111111111:vpc/vpc-111111111111111",
                  "cidr_block": "10.0.0.0/20",
                  "cidr_block_associations": [
                    {
                      "association_id": "vpc-cidr-assoc-01111111111111111",
                      "cidr_block": "10.0.0.0/20",
                      "state": "associated"
                    }
                  ],
                  "default": false,
                  "dhcp_options_id": "dopt-e920cc92",
                  "enable_dns_hostnames": true,
                  "enable_dns_support": true,
                  "filter": null,
                  "id": "vpc-1111111111111111",
                  "instance_tenancy": "default",
                  "ipv6_association_id": "",
                  "ipv6_cidr_block": "",
                  "main_route_table_id": "rtb-1111111111111111",
                  "owner_id": "11111111111111",
                  "state": null,
                  "tags": {
                    "Name": "MYVPC"
                  }
                },
                "sensitive_values": {
                  "cidr_block_associations": [
                    {}
                  ],
                  "tags": {}
                }
              }
            ]
          }
        }
      },
      "configuration": {
        "root_module": {
          "resources": [
            {
              "address": "aws_iam_service_linked_role.example",
              "mode": "managed",
              "type": "aws_iam_service_linked_role",
              "name": "example",
              "provider_config_key": "aws",
              "expressions": {
                "aws_service_name": {
                  "constant_value": "opensearchservice.amazonaws.com"
                }
              },
              "schema_version": 0
            },
            {
              "address": "aws_opensearch_domain.exampl3",
              "mode": "managed",
              "type": "aws_opensearch_domain",
              "name": "exampl3",
              "provider_config_key": "aws",
              "expressions": {
                "access_policies": {
                  "references": [
                    "data.aws_region.current.name",
                    "data.aws_region.current",
                    "data.aws_caller_identity.current.account_id",
                    "data.aws_caller_identity.current",
                    "var.domain"
                  ]
                },
                "advanced_options": {
                  "constant_value": {
                    "rest.action.multi.allow_explicit_index": "true"
                  }
                },
                "cluster_config": [
                  {
                    "instance_type": {
                      "constant_value": "m4.large.search"
                    },
                    "zone_awareness_enabled": {
                      "constant_value": true
                    }
                  }
                ],
                "domain_name": {
                  "references": [
                    "var.domain"
                  ]
                },
                "engine_version": {
                  "constant_value": "OpenSearch_1.0"
                },
                "tags": {
                  "constant_value": {
                    "Domain": "TestDomain"
                  }
                },
                "vpc_options": [
                  {
                    "security_group_ids": {
                      "references": [
                        "aws_security_group.example.id",
                        "aws_security_group.example"
                      ]
                    },
                    "subnet_ids": {
                      "references": [
                        "aws_subnet.main1.id",
                        "aws_subnet.main1",
                        "aws_subnet.main2.id",
                        "aws_subnet.main2"
                      ]
                    }
                  }
                ]
              },
              "schema_version": 0,
              "depends_on": [
                "aws_iam_service_linked_role.example"
              ]
            },
            {
              "address": "aws_security_group.example",
              "mode": "managed",
              "type": "aws_security_group",
              "name": "example",
              "provider_config_key": "aws",
              "expressions": {
                "description": {
                  "constant_value": "Managed by Terraform"
                },
                "ingress": {
                  "references": [
                    "data.aws_vpc.example.cidr_block",
                    "data.aws_vpc.example"
                  ]
                },
                "name": {
                  "references": [
                    "var.vpc",
                    "var.domain"
                  ]
                },
                "vpc_id": {
                  "references": [
                    "data.aws_vpc.example.id",
                    "data.aws_vpc.example"
                  ]
                }
              },
              "schema_version": 1
            },
            {
              "address": "aws_subnet.main1",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "main1",
              "provider_config_key": "aws",
              "expressions": {
                "cidr_block": {
                  "constant_value": "10.0.16.0/24"
                },
                "tags": {
                  "constant_value": {
                    "Name": "Main"
                  }
                },
                "vpc_id": {
                  "constant_value": "vpc-111111111111"
                }
              },
              "schema_version": 1
            },
            {
              "address": "aws_subnet.main2",
              "mode": "managed",
              "type": "aws_subnet",
              "name": "main2",
              "provider_config_key": "aws",
              "expressions": {
                "cidr_block": {
                  "constant_value": "10.0.15.0/24"
                },
                "tags": {
                  "constant_value": {
                    "Name": "Main"
                  }
                },
                "vpc_id": {
                  "constant_value": "vpc-1111111111111"
                }
              },
              "schema_version": 1
            },
            {
              "address": "data.aws_caller_identity.current",
              "mode": "data",
              "type": "aws_caller_identity",
              "name": "current",
              "provider_config_key": "aws",
              "schema_version": 0
            },
            {
              "address": "data.aws_region.current",
              "mode": "data",
              "type": "aws_region",
              "name": "current",
              "provider_config_key": "aws",
              "schema_version": 0
            },
            {
              "address": "data.aws_vpc.example",
              "mode": "data",
              "type": "aws_vpc",
              "name": "example",
              "provider_config_key": "aws",
              "expressions": {
                "tags": {
                  "constant_value": {
                    "Name": "MYVPC"
                  }
                }
              },
              "schema_version": 0
            }
          ],
          "variables": {
            "domain": {
              "default": "tf-test"
            },
            "vpc": {
              "default": "test"
            }
          }
        }
      }
    }
  }
}
